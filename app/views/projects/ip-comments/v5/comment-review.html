{% extends "layouts/PINS-post-mvp.html" %}

{% set title = 'Comment from Ian Smith' %}
{% set pageName = title %}

{% block backLink %}
  {{ govukBackLink({
    html: 'Back',
    href: 'ip-comments?acceptedComment=&redactedComment=&comment-withdrawn=&manual-ip-comment=&comment-rejected=&extra-document='
  }) }}
{% endblock %}

{% block content %}
<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">


    {% if data['documents-added'] %}
      <div class="govuk-notification-banner  govuk-notification-banner--success" role="region" aria-labelledby="govuk-notification-banner-title" data-module="govuk-notification-banner">
        <div class="govuk-notification-banner__header">
          <h2 class="govuk-notification-banner__title" id="govuk-notification-banner-title">
            Success
          </h2>
        </div>
        <div class="govuk-notification-banner__content">
          <p class="govuk-notification-banner__heading">
            Supporting documents uploaded
          </p>
        </div>
      </div>
    {% endif %}

    <span class="govuk-caption-l">Appeal 2114328</span>
    <h1 class="govuk-heading-l">
      {{ title }}
    </h1>

  </div>
</div>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">

    <dl class="govuk-summary-list">
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          Interested party
        </dt>
        <dd class="govuk-summary-list__value">
          Ian Smith
        </dd>
      </div>
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          Email address
        </dt>
        <dd class="govuk-summary-list__value">
          ian.smith@gmail.com
        </dd>
      </div>
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          Address
        </dt>
        <dd class="govuk-summary-list__value">
          6 The Grove<br>
          Glasgow<br>
          GS5 7TH
        </dd>
      </div>
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          Submitted
        </dt>
        <dd class="govuk-summary-list__value">
          26 Nov 2023
        </dd>
      </div>
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          Comment
        </dt>
        <dd class="govuk-summary-list__value">
          Having reviewed the proposal I would like to raise strong objections based on the scale of the proposed buildings so close to a residential area. Residents have not been consulted on this and our views of the greenbelt adjacent to the estate will be ruined if this goes ahead. All of us here at number 6 The Grove agree.
        </dd>
      </div>
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          Supporting documents
        </dt>
        <dd class="govuk-summary-list__value">
          {% if data['documents-added'] %}
            <a href='#' class='govuk-link govuk-link--no-visited-state'>{{(data ['upload-extra-document'] or 'appeal-2114328-added-document-2.doc')}}</a>
          {% else %}
            <a href='extra-document-redaction-status' class='govuk-link govuk-link--no-visited-state'>Add supporting documents</a>
          {% endif %}
        </dd>
      </div>
    </dl>
  </div>

</div>



<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">

    <section class="govuk-!-margin-bottom-9">
      <!-- site visit requested -->
      {{ govukCheckboxes({
        name: "siteVisit",
        fieldset: {
          legend: {
            text: "Site visit requested",
            classes: "govuk-visually-hidden"
          }
        },
        items: [
          {
            value: "siteVisitRequest",
            text: "The comment includes a site visit request"
          }
        ]
      }) }}
    </section>

    <!-- accept or reject the comment -->
    <form action="" method="post" class="govuk-!-margin-top-7" id="review-comment">

    <!-- this form is branching using https://github.com/abbott567/radio-button-redirect for simpler routing-->

      {{ govukRadios({
        name: "commentReview",
        fieldset: {
          legend: {
            text: "Do you accept the comment?",
            isPageHeading: false,
            classes: "govuk-fieldset__legend--m"
          }
        },
        items: [
         {
            value: "valid~ip-comments?acceptedComment=yes&commentReview=true",
            text: "Accept comment"
          },
         {
            value: "redactionNeeded~comment-redact",
            text: "Redact comment"
          },
            {
              divider: "or"
            },
          {
            value: "invalid~reject-comment",
            text: "Reject comment"
          }
        ]
      }) }}

      <p class="govuk-body">
        <a href='withdraw-comment-upload-evidence?comment-mode=review' class='govuk-link govuk-link--no-visited-state'>Withdraw comment</a>
      </p>

      {{ govukButton({
        text: "Confirm"
      }) }}

    </form>



  </div>
</div>

{% endblock %}
