{% extends "layouts/PINS-post-mvp.html" %}

{% set title = data['filename'] or 'appeal_2110166_proofs_and_witnesses_part1.pdf' %}
{% set pageName = title + ' - Planning Inspectorate'%}

{% set back = true %}

{% block beforeContent %}
  {{ govukBackLink({
    text: "Back",
    href: "documents"
  }) }}
{% endblock %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

      {{ govukNotificationBanner({
        type: "success",
        text: flash
      }) if flash.length}}

      <span class="govuk-caption-l">Appeal 2110166</span>
      <h1 class="govuk-heading-l">
        {{ title }}
      </h1>

      <form action="upload-supporting-document" method="post"  novalidate>

        <dl class="govuk-summary-list">
          <div class="govuk-summary-list__row">
            <dt class="govuk-summary-list__key">
              Name
            </dt>
            <dd class="govuk-summary-list__value">
              <a href="#">{{ data['filename'] or 'appeal_2110166_proofs_and_witnesses_part1.pdf' }}</a>
            </dd>
            <dd class="govuk-summary-list__actions">
              <a class="govuk-link" href="name-change">
                Change<span class="govuk-visually-hidden"> name</span>
              </a>
            </dd>
          </div>
          <div class="govuk-summary-list__row">
            <dt class="govuk-summary-list__key">
              Version
            </dt>
            <dd class="govuk-summary-list__value">
              2
            </dd>
          </div>
          <div class="govuk-summary-list__row">
            <dt class="govuk-summary-list__key">
              Submitted
            </dt>
            <dd class="govuk-summary-list__value">
              {{ 2 | daysAgo }}
            </dd>
          </div>
          <div class="govuk-summary-list__row">
            <dt class="govuk-summary-list__key">
              Redaction status
            </dt>
            <dd class="govuk-summary-list__value">
              Redacted
            </dd>
            <dd class="govuk-summary-list__actions">
              <a class="govuk-link" href="document-details">
                Change<span class="govuk-visually-hidden"> redacted status</span>
              </a>
            </dd>
          </div>
        </dl>

        <div class="govuk-button-group">
          {{ govukButton({
            text: "Upload new version"
          }) }}

          {{ govukButton({
            text: "Remove current version",
            classes: "govuk-button--secondary"
          }) }}
        </div>

      </form>

      <h2 class="govuk-heading-m govuk-visually-hidden">
        Document versions
      </h2>

      {% set versionHistory %}

        {{ govukTable({
          caption: "Document versions",
          captionClasses: "govuk-heading-l govuk-visually-hidden",
          firstCellIsHeader: false,
          head: [
            {
              text: "Version"
            },
            {
              text: "Name"
            },
            {
              text: "Activity"
            },
            {
              text: "Redaction status"
            },
            {
              text: "Action"
            }
          ],
          rows: [
            [
              {
                text: "2"
              },
              {
                html: "<p class='govuk-body govuk-!-margin-bottom-2'><a href='#' class='govuk-link'>appeal_2110166_proofs_and_witnesses_part1.pdf</a></p>
                <p class='govuk-body'><strong class='govuk-tag'>Current version</strong></p>"
              },
              {
                text: ""
              },
              {
                text: "Redacted"
              },
              {
                html: "<a href='govuk-link'>Remove</a>"
              }
            ],
            [
              {
                text: "1"
              },
              {
                html: "<p class='govuk-body'><a href='#' class='govuk-link'>appeal_2110166_proofs_and_witnesses_part1.pdf</a></p>"
              },
              {
                text: ""
              },
              {
                text: "Unredacted"
              },
              {
                html: "<a href='govuk-link'>Remove</a>"
              }
            ]
          ]
          }) }}

      {% endset -%}

    </div>
  </div>

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-full">

      {{ govukDetails({
        summaryHtml: 'Version history',
        html: versionHistory
      }) }}

    </div>
  </div>

{% endblock %}
