{% extends "layouts/PINS.html" %}

{% set pageName="Appellant Case" %}

{% block backLink %}
  {{ govukBackLink({
    text: "Back",
    href: "javascript:window.history.back()"
  }) }}
{% endblock %}

{% block content %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">

	<!-- heading set -->
    <span class="govuk-caption-l">Appeal 12345 - Manage documents</span>
        <fieldset class="govuk-fieldset" role="group" aria-describedby="document-name{% if data.dateErrors and data.dateErrors.length > 0 %} document-date-error{% endif %}">
            <h1 class="govuk-heading-l">Redaction status</h1>
             <h2 class="govuk-heading-m">{{ data.currentFile.name }}</h2>
             </fieldset>

          <!-- heading set -->

	    <form action="/projects/file-upload/v5/file-details-redaction-status" method="post"  novalidate>

	    <!-- this form is branching using https://github.com/abbott567/radio-button-redirect for simpler routing-->
		 <label class="govuk-label govuk-label--s" for="example-2">Enter redaction status</label>          

	{{ govukRadios({
	  name: "redaction",
	  fieldset: {
	   
	  },
	  items: [
	    {
	      value: "Redacted",
	      text: "Redacted",
	      checked: data['redaction'] == "Redacted"
	    },
	    {
	      value: "Unredacted",
	      text: "Unredacted",
	      checked: data['redaction'] == "Unredacted"
	    },
	    {
		  divider: "or"
		},
	    {
	      value: "No redaction required",
	      text: "No redaction required",
	      checked: data['redaction'] == "No redaction required"
	    }
	  ]
	}) }}


	   {{ govukButton({
        text: "Continue"
      }) }}

	  </form>


  </div>
</div>

<script>
  // Refresh page once on load using URL parameter
  if (!window.location.search.includes('refreshed=true')) {
    const separator = window.location.search ? '&' : '?';
    window.location.href = window.location.href + separator + 'refreshed=true';
  }
</script>

{% endblock %}
