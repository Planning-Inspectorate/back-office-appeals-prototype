{% extends "layouts/PINS-post-mvp.html" %}

{% if data['statement-review-done'] == 'Yes' and data['review-outcome'] == 'Statement incomplete' %}
  {% set title = "Incomplete LPA statement" %}
{% else %}
  {% set title = "LPA statement" %}
{% endif %}
{% set pageName = title + ' - Planning Inspectorate'%}

{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

      {% if data['documents-added'] %}
        <div class="govuk-notification-banner  govuk-notification-banner--success" role="region" aria-labelledby="govuk-notification-banner-title" data-module="govuk-notification-banner">
          <div class="govuk-notification-banner__header">
            <h2 class="govuk-notification-banner__title" id="govuk-notification-banner-title">
              Success
            </h2>
          </div>
          <div class="govuk-notification-banner__content">
            <p class="govuk-notification-banner__heading">
              Supporting documents uploaded
            </p>
          </div>
        </div>
      {% endif %}

      <span class="govuk-caption-l">Appeal 2110166</span>
      <h1 class="govuk-heading-l">
        {{ title }}
      </h1>

    </div>
  </div>

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-full">

      <dl class="govuk-summary-list govuk-!-margin-bottom-0">
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">
            Statement
          </dt>
          <dd class="govuk-summary-list__value long-answers">
            <p class="govuk-body">
              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut at nunc mi. Donec maximus risus nec interdum vestibulum. Cras laoreet vestibulum bibendum. Cras lectus nulla, efficitur nec fringilla ac, cursus ac lectus.
              Nam interdum lorem sed lacus feugiat faucibus in vitae tellus. Aliquam erat volutpat. Donec aliquam tincidunt vehicula. Vivamus id elit ac libero rhoncus pulvinar. Etiam blandit posuere elit id rhoncus.
              Mauris nulla erat, posuere ut nisi vitae, pulvinar gravida arcu.
              <br><br>
              Morbi ac mauris enim. Curabitur magna lacus, eleifend in euismod in, accumsan convallis velit. Quisque bibendum urna id molestie hendrerit. Cras mattis mi non lobortis eleifend.
              Quisque nisl purus, sollicitudin interdum convallis a, tristique vulputate mi. Mauris eget nisl in massa mollis luctus. Vestibulum consectetur maximus cursus. Integer molestie ipsum et nunc eleifend venenatis.
              Aliquam posuere dui et felis tempor tristique. Aenean porta vehicula imperdiet. Nunc sed egestas risus, ut fringilla orci. Proin lobortis sapien interdum nunc iaculis rutrum. Phasellus consectetur vitae dui in vulputate.
            </p>
          </dd>
          <dd class="govuk-summary-list__actions">
          </dd>
        </div>
        <div class="govuk-summary-list__row">
          <dt class="govuk-summary-list__key">
            Supporting documents
          </dt>
          <dd class="govuk-summary-list__value">

            {% if data['no-documents'] != 'yes' %}
            <ul class="govuk-list govuk-list--number">
              <li>
                <a href='#' class='govuk-link govuk-link--no-visited-state'>
                  {{(data ['upload-extra-document'] or 'appeal-2114328-added-document.doc')}}
                </a>
              </li>
              <li>
                <a href='#' class='govuk-link govuk-link--no-visited-state'>
                  {{(data ['upload-extra-document'] or 'appeal-2114328-added-document-1.doc')}}
                </a>
              </li>
              <li>
                <a href='#' class='govuk-link govuk-link--no-visited-state'>
                  {{(data ['upload-extra-document'] or 'appeal-2114328-added-document-2.doc')}}
                </a>
              </li>
            </ul>
            {% else %}
              Not provided
            {% endif %}
          </dd>
          <dd class="govuk-summary-list__actions">
            <a class="govuk-link" href="redact-supporting-documents">
              Change<span class="govuk-visually-hidden"> supporting documents</span>
            </a>
          </dd>
        </div>

        {% if data['statement-review-done'] == 'Yes' and data['review-outcome'] == 'Statement incomplete' %}

          <div class="govuk-summary-list__row">
            <dt class="govuk-summary-list__key">
              Reasons statement was incomplete
            </dt>
            <dd class="govuk-summary-list__value">
              <ul class="govuk-list govuk-list--bullet">
                <li>
                  Supporting documents missing
                </li>
                <li>
                  Other: Some other reason
                </li>
              </ul>
            </dd>
            <dd class="govuk-summary-list__actions">
              <a class="govuk-link" href="redact-supporting-documents">
                Change<span class="govuk-visually-hidden"> reasons statement was incomplete</span>
              </a>
            </dd>
          </div>

          {% if data['allow-resubmission'] == 'Yes' %}
            <div class="govuk-summary-list__row">
              <dt class="govuk-summary-list__key">
                Resubmission due by
              </dt>
              <dd class="govuk-summary-list__value">
                {{ 7 | daysInFuture }}
              </dd>
              <dd class="govuk-summary-list__actions">
                <a class="govuk-link" href="redact-supporting-documents">
                  Change<span class="govuk-visually-hidden"> reasons statement was incomplete</span>
                </a>
              </dd>
            </div>
          {% endif %}

        {% endif %}

      </dl>

    </div>
  </div>

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

      <!-- accept or reject the statement -->
      <form method="post" class="govuk-!-margin-top-6" id="review-statement">

        <!-- this form is branching using https://github.com/abbott567/radio-button-redirect for simpler routing-->
        {{ govukRadios({
          name: "review-outcome",
          fieldset: {
            legend: {
              text: "What is the outcome of your review?",
              isPageHeading: false,
              classes: "govuk-fieldset__legend--m"
            }
          },
          items: [
           {
              value: "Accept statement",
              text: "Accept statement"
            },
           {
              value: "Redact and accept statement",
              text: "Redact and accept statement"
            },
            {
              value: "Statement incomplete",
              text: "Statement incomplete"
            },
            {
              value: "Reject statement",
              text: "Reject statement"
            } if 1 == 2
          ]
        }) }}

        {{ govukButton({
          text: "Continue"
        }) }}

      </form>

    </div>
  </div>


{% endblock %}
